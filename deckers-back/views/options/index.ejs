<% include ../partials/header %>

<div class="container">
    <!--<div class="row" style="display:flex; flex-wrap: wrap;">-->
    
    <div class="jumbotron">
        <h1 class="display-4">Option list</h1>
        <p class="lead">View all options here</p>
        <hr class="my-4">
        <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
        <a class="btn btn-primary btn-lg" href="/options/new" role="button">Add new OG</a>
    </div>
    
    <% optionGroups.forEach(function(optionGroup){ %>
    
        <div class="jumbotron">
            <h1 class="display-4">[<%= optionGroup.short %>] <%= optionGroup.name %></h1>
            <p class="lead"><%= optionGroup.description %></p>
            <hr class="my-4">
            <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th scope="col">Short</th>
                        <th scope="col">Name</th>
                        <th scope="col">Description</th>
                        <th scope="col">Value</th>
                        <th scope="col">More</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <% optionGroup.options.forEach(function(option){ %>
                        <tr>
                            <th scope="row"> <%= option.option.short %></th>
                            <th scope="row"> <%= option.option.name %></th>
                            <td scope="col"> <%= option.option.description %></td>
                            <td scope="col"> <%= option.option.value %></td>
                            <td style="text-align: center; vertical-align: middle;"><a href="/options/<%= optionGroup.short %>/<%= option.option._id %>" class="btn btn-primary"> Show more </a></td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
            <a class="btn btn-primary btn-lg" href="options/<%= optionGroup.short %>/new" role="button">Add option</a>
            
            <% if(optionGroup.options.length == 0){ %>
                <form action="/options/<%= optionGroup.short %>?_method=DELETE" method="POST" style="display:inline">
                    <button class="btn btn-danger">Delete</button>
                </form>
            <% } else { %>
                <button class="btn btn-danger disabled" disabled>Delete</button>
            <% } %>
            
        </div>
    <% }) %>
    
    <!--</div>-->
</div> <!-- container -->

<% include ../partials/footer %>
